# AxiomTestTask

Реализация тестового задания по потокам.

## Требования: 

1. Написать на Java маленькое приложение, которое может попадать в
состояние дедлок.
    Так же это приложение должно иметь опцию включить дедлок или
выключить, при
    выключенном дедлоке сделать, чтобы приложение выполнялось какое-то
время не выходило,
    чтобы можно было запустить тест и для этого режима.

2. Используя jstack утилиту написать тест (предпочтительнее shell
скрипт), который будет проверять,
     что приложение попало в состояние дедлок и репортить failed, так же
проверить, что с опцией
    отключающей дедлок тест репортит passed.

## Реализация:

Программа принимает на вход аргумент _lock_. В этом случае включается LOCK MODE, в котором программа демонстрирует простейший deadlock, когда один поток блокирует первый ресурс и ждет освобождения второго, а второй поток наоборот, тем самым потоки попадают во взаимную блокировку. 

Если аргументов нет или передан иной аргумент, отличный от _lock_, то программа работает в стандартном режиме, в котором два потока наполняют и уменьшают некий стек, в цикле. Программа работает некоторое время и успешно завершается. 

Powershell скрипт можно запускать параллельно с работой программы. При LOCK MODE будет выдавать **failed**, а в стандартном режиме **passed**.

## Примечание:

Скрипт рассчитан на проверку одного процесса, поэтому перед очередной проверкой нужно убедиться, что предыдущий процесс завершил работу. И если нет, то завершить принудительно. 
